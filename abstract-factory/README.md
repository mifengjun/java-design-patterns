![æŠ½è±¡å·¥å‚æ¨¡å¼](https://i.loli.net/2020/10/17/fqGiTYHzgdxOjbK.png)

# æŠ½è±¡å·¥å‚æ¨¡å¼ ğŸŒ‰

> æä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œå…¶æ¯ä¸ªå­ç±»å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚



## æ¦‚å¿µç†è§£ï¼ˆé‡è¦â—â—â—ï¼‰



ã€€ã€€ç‰¹åˆ«å¼ºè°ƒäº†ä¸€ä¸‹æŠ½è±¡å·¥å‚æ¨¡å¼çš„æ¦‚å¿µç†è§£éƒ¨åˆ†æˆ‘è§‰å¾—æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œå½“ç„¶æˆ‘åœ¨å†™ä¸‹è¿™ç¯‡æ–‡ç« ä¹‹å‰çœ‹è¿‡å¾ˆå¤šä¼˜ç§€çš„åšæ–‡ã€ä¹¦ç±ã€è§†é¢‘ç­‰èµ„æ–™å¯¹æŠ½è±¡å·¥å‚æ¨¡å¼çš„è®²è§£å’Œä»£ç ç¤ºä¾‹ç­‰å†…å®¹ï¼Œä½†æˆ‘å‘ç°ã€‚æŠ½è±¡å·¥å‚çš„æ¦‚å¿µè¢«ä¸€æ¬¡åˆä¸€æ¬¡çš„åˆ·æ–°ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæƒ³è¡¨è¾¾ä¸€ä¸‹è‡ªå·±å¯¹æŠ½è±¡å·¥å‚çš„ç†è§£ã€‚å¦‚æœä½ å’Œæˆ‘æŒä¸åŒçš„æ„è§ï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹ï¼Œæˆ‘å¾ˆæ„¿æ„å’Œä½ ä¸€èµ·è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚



ã€€ã€€çœ‹æˆ‘è¿‡ä¹‹å‰çš„æ–‡ç« åº”è¯¥çŸ¥é“äº†æˆ‘å†™çš„å·¥å‚æ¨¡å¼çš„æ¦‚å¿µå’Œä»£ç å®ç°ï¼Œä»¥åŠä½¿ç”¨çš„æ—¶æœºã€‚è€ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„å®ç°ï¼Œç­‰äºå·¥å‚æ–¹æ³•æ¨¡å¼çš„å®ç°ã€‚



ã€€ã€€é‚£ä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªæ¨¡å¼çš„å®šä¹‰å‡ºç°å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜è§£å†³äº†ï¼Œé‚£æˆ‘ä»¬çš„æ¦‚å¿µå°±æ‹æ¸…æ¥šäº†ã€‚æˆ‘ä»¬ä¸€èµ·æ¥å›é¡¾ä¸€ä¸‹è¿™ä¸¤ä¸ªæ¨¡å¼çš„å®šä¹‰ï¼š

1. å·¥å‚ï¼ˆFactoryï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚
2. æŠ½è±¡å·¥å‚ï¼ˆAbstractFactoryï¼‰æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œå…¶æ¯ä¸ªå­ç±»å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚

ã€€ã€€æˆ‘ä»¬å°†ä¸Šé¢çš„ä¸¤ä¸ªæ¨¡å¼çš„å®šä¹‰æ”¾åœ¨ä¸€èµ·æ€»ç»“ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºæ˜¯ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªå·¥å‚æ¥å£ï¼Œç”±å­ç±»å»å®ç°å…·ä½“çš„å·¥å‚ã€‚å¦‚æœæˆ‘æ€»ç»“çš„å®šä¹‰ä½ å¯ä»¥è®¤å¯ï¼Œé‚£ç»§ç»­å¾€ä¸‹çœ‹ã€‚ä¸è®¤å¯å¿ä¸€å¿ï¼Œçœ‹å®Œå†å–·ã€‚è®©æˆ‘ä»¬é€šè¿‡ä»£ç åœ¨ç†è§£ä¸€ä¸‹ã€‚



ã€€ã€€**â—ä¸‹é¢å†…å®¹å¾ˆå…³é”®ï¼Œå¸Œæœ›ä½ èƒ½è®¤çœŸçœ‹å®Œ**ã€‚å½“ç„¶ï¼Œä¸å»ºè®®æ­»æ‰£å­—çœ¼å’Œä»£ç ï¼Œè¿˜æ˜¯æœ€åˆçš„é‚£ä¸ªèª“è¨€ï¼Œå­¦ä¹ è®¾è®¡æ¨¡å¼çš„æ€æƒ³ã€‚è€Œä¸æ˜¯å­¦è¯­æ–‡ã€‚



## ä¸€è¡Œä»£ç  â—



### å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¼ªä»£ç 

```java
/**
 * ç”µå­å·¥å‚
 */
public interface ElectronicsFactory {

    /**
     * ç”Ÿäº§ä¸€ä¸ªæ‰‹æœº
     */
    Phone creatPhone();
}
```



```java
/**
 * è‹¹æœæ‰‹æœºç”µå­å·¥å‚
 */
public class IphoneElectronicsFactory implements ElectronicsFactory{

    /**
     * ç”Ÿäº§ä¸€ä¸ªè‹¹æœæ‰‹æœº
     */
    Phone creatPhone() {
        return new IPhone()
    }
}
```



```java
/**
 * å°ç±³æ‰‹æœºç”µå­å·¥å‚
 */
public class MiPhoneElectronicsFactory implements ElectronicsFactory{

    /**
     * ç”Ÿäº§ä¸€ä¸ªè‹¹æœæ‰‹æœº
     */
    Phone creatPhone() {
        return new MiPhone()
    }
}
```



### è®©æˆ‘ä»¬åœ¨çœ‹ä¸€ä¸‹æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼ªä»£ç 

```java
/**
 * ç”µå­å·¥å‚
 */
public interface ElectronicsFactory {

     /**
     * ç”Ÿäº§ä¸€ä¸ªæ‰‹æœº
     */
    Phone creatPhone();
    
     /**
     * ç”Ÿäº§ä¸€ä¸ªç”µè„‘
     */
    Computer creatComputer();
}
```



```java
/**
 * è‹¹æœç”µå­å·¥å‚
 */
public class AppleElectronicsFactory implements ElectronicsFactory{

     /**
     * ç”Ÿäº§ä¸€ä¸ªè‹¹æœæ‰‹æœº
     */
    Phone creatPhone() {
        return new IPhone()
    }
    
     /**
     * ç”Ÿäº§ä¸€ä¸ªè‹¹æœç”µè„‘
     */
    Computer creatComputer() {
        return new MACBook();
    }
}
```



```java
/**
 * å°ç±³ç”µå­å·¥å‚
 */
public class MiElectronicsFactory implements ElectronicsFactory{

     /**
     * ç”Ÿäº§ä¸€ä¸ªå°ç±³æ‰‹æœº
     */
    Phone creatPhone() {
        return new MiPhone()
    }
    
     /**
     * ç”Ÿäº§ä¸€ä¸ªå°ç±³ç”µè„‘
     */
    Computer creatComputer() {
        return new MiComputer();
    }
}
```



æˆ‘ä»¬é€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œå¯ä»¥å¾—åˆ°å„ç§å„æ ·çš„åŒç±»å‹äº§å“ï¼ˆéƒ½æ˜¯æ‰‹æœºï¼‰ï¼Œä½†æˆ‘ä»¬å¦‚æœé€šè¿‡æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå°±å¯ä»¥å¾—åˆ°å„ç§å„æ ·åŒä¸ªäº§å“æ—çš„äº§å“ï¼ˆä¸€ä¸ªå“ç‰Œçš„æ‰€æœ‰äº§å“ï¼‰**è€Œè¿™ä¸€åˆ‡çš„å†…å®¹ï¼Œä»…ä»…ç›¸å·®äº†ä¸€è¡Œä»£ç ** ã€‚**åŒæ ·çš„ï¼Œå½“æŠ½è±¡å·¥å‚ä¸­åªæœ‰ä¸€ä¸ªå·¥å‚æ—¶ï¼Œå®ƒä¸å·¥å‚æ¨¡å¼ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚**



![](https://i.loli.net/2020/10/15/ojTOhcA9eB8X2IJ.gif)



> å·¥å‚æ–¹æ³•æ¨¡å¼åªè€ƒè™‘ç”Ÿäº§åŒç­‰çº§çš„äº§å“ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼å°†è€ƒè™‘å¤šç­‰çº§äº§å“çš„ç”Ÿäº§ï¼Œå°†åŒä¸€ä¸ªå…·ä½“å·¥å‚æ‰€ç”Ÿäº§çš„ä½äºä¸åŒç­‰çº§çš„ä¸€ç»„äº§å“ç§°ä¸ºä¸€ä¸ªäº§å“æ—ï¼ˆå“ç‰Œï¼‰
>
> æ¥æºï¼šhttp://c.biancheng.net/view/1351.html



## æŠ½è±¡å·¥å‚ç±»å›¾ ğŸ–Œ

![æŠ½è±¡å·¥å‚ç±»å›¾](https://i.loli.net/2020/10/16/9Rj52oePSYbqiry.png)



## å…·ä½“ä»£ç  ğŸ“„

> å®Œæ•´ä»£ç åŠå•å…ƒæµ‹è¯•ç»“æœ [https://github.com/lvgocc/java-design-patterns/tree/main/abstract-factory](https://github.com/lvgocc/java-design-patterns/tree/main/abstract-factory)

ä»£ç åœ¨ä¸Šé¢å·²ç»ç½—åˆ—è¿‡ï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥ç§»æ­¥ä¸Šé¢é“¾æ¥ã€‚å¯ä»¥çš„è¯ï¼Œç»™ä¸ªstarå§ï¼ˆè„¸çš®åšçš„ä¸è¡Œï¼‰

## æ€»ç»“ âœ¨


æŠ½è±¡å·¥å‚ä¸å·¥å‚æ–¹æ³•æ¨¡å¼ä¸ºåŒä¸€ç§è®¾è®¡æ€æƒ³ï¼Œä»–ä»¬ä¸åŒäºç®€å•å·¥å‚ã€‚å› ä¸ºçœ‹äº†å¾ˆå¤šèµ„æ–™ï¼Œå¯¹è¿™éƒ¨åˆ†å†…å®¹çš„æè¿°å„æœ‰åƒç§‹ã€‚æ‰€ä»¥æˆ‘åœ¨è¿™é‡Œä¹Ÿè¡¨è¾¾äº†è‡ªå·±çš„ä¸€äº›çœ‹æ³•ã€‚å‚è€ƒå†…å®¹æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºä¸€ä¸‹æ˜¯æå¥½çš„
- http://c.biancheng.net/view/1351.html
- https://www.journaldev.com/1392/factory-design-pattern-in-java
- https://www.journaldev.com/1418/abstract-factory-design-pattern-in-java

å†å›åˆ°ä¸Šé¢çš„ä¸¤ä¸ªå®šä¹‰ï¼š

1. å·¥å‚ï¼ˆFactoryï¼‰æ¨¡å¼ï¼š**å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚**
2. æŠ½è±¡å·¥å‚ï¼ˆAbstractFactoryï¼‰æ¨¡å¼ï¼š**æä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œå…¶æ¯ä¸ªå­ç±»å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚**

æŠ½è±¡å·¥å‚ï¼Œæ¯”å¦‚â€™å¯Œå£«åº·â€˜ï¼Œç»†å“ä¸€ä¸‹ï¼Œä»–å°±æœ‰å¤šä¸ªäº§å“æ—ï¼Œæ­¤æ—¶ä½ åº”è¯¥æ˜ç™½äº†æŠ½è±¡å·¥å‚çš„æ¦‚å¿µå’Œä¸å·¥å‚æ–¹æ³•æ¨¡å¼çš„åŒºåˆ«ï¼ˆç›¸å·®ä¸€è¡Œä»£ç ï¼Œç›¸å·®ä¸€ä¸ªäº§å“æ—ï¼‰ï¼Œå¦‚æœè¢«æˆ‘è¯´æ™•äº†ï¼Œæˆ‘çœŸçš„å¾ˆæŠ±æ­‰ï¼Œæ„¿æ„çš„è¯å¯ä»¥ä¸æˆ‘ç§èŠã€‚



å½“ç„¶ç›¸å·®ä¸€è¡Œä»£ç æ˜¯ä¸ºäº†è¡¨è¾¾ä¸¤è€…ç›´æ¥çš„å…³ç³»ï¼Œåœ¨å®é™…åº”ç”¨æƒ…å†µä¸‹è¿˜æ˜¯éµå¾ªæ ‡å‡†çš„å‘½åè§„èŒƒã€‚é¿å…äº§ç”Ÿæ­§ä¹‰ï¼Œå‡ºç°ç†è§£è¯¯å·®ã€‚



ã€€ã€€æ–‡æœ«çš„**JDKä¸­çš„æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ç¤ºä¾‹**ç”Ÿäº§çš„å°±æ˜¯ä¸€ä¸ªç³»åˆ—ï¼Œæ‰€ä»¥ä¸Šé¢ä¹Ÿæåˆ°äº†æŠ½è±¡å·¥å‚ä¸å·¥å‚æœ¬èº«å¹¶æ— å¤§å·®åˆ«ï¼Œå½“ä½ ä¸€ä¸ªå·¥å‚å¯ä»¥ç”Ÿäº§å‡ºå¤šä¸ªç³»åˆ—çš„äº§å“çš„æ—¶å€™ï¼Œå…¶å®ä»–å°±æ˜¯æŠ½è±¡å·¥å‚äº†ã€‚æ¯”å¦‚çœ‹è¿‡æˆ‘ä¸Šä¸€ç¯‡å·¥å‚æ¨¡å¼æ–‡ç« çš„å°ä¼™ä¼´å°±ä¼šå‘ç°ï¼Œæ–‡æœ«ç»™å‡ºçš„ JDK ä¾‹å­ä½¿ç”¨çš„æ˜¯é™æ€å·¥å‚æ¨¡å¼ã€‚è¿™ä¸€æ¬¡ç»™å‡ºçš„æ˜¯æŠ½è±¡å·¥å‚ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ã€‚æŠ½è±¡å·¥å‚ä¸å·¥å‚æ–¹æ³•æœ¬æ˜¯åŒæ ¹ç”Ÿã€‚æˆ‘çŸ¥é“æˆ‘æŠŠä½ è¯´ç»•äº†ï¼Œä½†æ˜¯æˆ‘çš„åˆè¡·æ˜¯è®©ä½ æ¸…æ¥šè¿™ä¸¤è€…ï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ä¸æ‰€è°“çš„å·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ï¼Œæœ¬å°±æ˜¯ä¸€ä¸ªæ€æƒ³ã€‚



**ğŸ””å¦‚æœè§‰å¾—æˆ‘æ²¡è¯´æ˜ç™½çš„è¯·è”ç³»æˆ‘ï¼Œéå¸¸ä¹æ„è¢«æ‰“æ‰°**

``å¦‚æœä¸Šé¢æ˜Ÿå°˜è¡¨è¿°çš„å†…å®¹æ²¡èƒ½è®²æ¸…æ¥šæŠ½è±¡å·¥å‚çš„æ¦‚å¿µï¼Œå¤§å®¶ä¸è¦æ€¥ã€‚ç»§ç»­å¾€ä¸‹çœ‹ã€‚å¦‚æœæˆ‘è¯´çš„è¿˜ä¸æ˜ç™½ï¼Œç»™æˆ‘ä¸ªæœºä¼šï¼ŒåŠ æˆ‘å¾®ä¿¡ï¼ˆlvgoccï¼‰æˆ–è€…å…¬ä¼—å·å†…ç§èŠï¼Œç›´åˆ°èŠæ¸…æ¥šä¸ºæ­¢ã€‚ä½ è‹¥ä¸ä¼šï¼Œæˆ‘æ„¿å—ç´¯ï¼Œä¸ºäº†ä½ ï¼Œæˆ‘æ„¿æ„æ‰§ç€ğŸ±â€ğŸ’»ã€‚``


## ä½¿ç”¨æ—¶æœº

- å½“ä½ æƒ³è¦ç®¡ç†å¤šä¸ªç³»åˆ—äº§å“çš„æ—¶å€™ï¼Œæ¯”å¦‚å¤šä¸ªå¥—é¤ï¼Ÿå¤šç§ç­–ç•¥ç»„åˆï¼Ÿçœ‹ä½ éœ€æ±‚ï¼Œåˆç†ä½¿ç”¨ï¼Œæ€»ä¹‹å¤šç³»åˆ—å°±ç”¨å®ƒï¼

ä¾‹å¦‚ä½ æœ‰ä¸€å¥—æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸åŒçš„å®ç°ï¼Œé‚£è¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚ï¼Œå¯ä»¥è®©å®ƒåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹å‘æŒ¥ä¸åŒçš„åŠŸèƒ½ã€‚

ã€€ã€€

## JDKä¸­çš„æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ç¤ºä¾‹

> æ¡ˆä¾‹æ¥æºï¼šhttps://www.journaldev.com/1418/abstract-factory-design-pattern-in-java



- javax.xml.parsers.DocumentBuilderFactoryï¼ƒnewInstanceï¼ˆï¼‰
- javax.xml.transform.TransformerFactoryï¼ƒnewInstanceï¼ˆï¼‰
- javax.xml.xpath.XPathFactoryï¼ƒnewInstanceï¼ˆï¼‰



# å†™åœ¨æœ€å

ã€€ã€€Java è®¾è®¡æ¨¡å¼ä¸“é¢˜ï¼Œå…±23 ç§è®¾è®¡æ¨¡å¼ã€‚å†…å®¹æ¥è‡ªä¸ªäººå­¦ä¹ ç†è§£æ¶ˆåŒ–çš„ç»“æœï¼Œè°ˆä¸ä¸Šæ•™ç¨‹ï¼Œåªæœ›è®°å½•äºæ­¤åŒä½ åˆ†äº«ã€‚å¸Œæœ›èƒ½å¤Ÿå’Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€æˆé•¿ã€‚ä¸ºäº†æ¢¦æƒ³ï¼Œå­¦ä¹ æŠ€æœ¯ã€‚å¦‚æœä½ è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¸Œæœ›ç»™ä¸ª star æ”¯æŒä¸€ä¸‹ã€‚æ„Ÿæ¿€æ¶•é›¶ã€‚

ã€€ã€€[â­https://github.com/lvgocc/java-design-patterns](https://github.com/lvgocc/java-design-patterns)

ã€€ã€€**æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹** äº¦æˆ–ç¹æ˜Ÿã€äº¦æˆ–å°˜åŸƒã€‚æ˜Ÿå°˜ï¼Œä¸ºäº†æ¢¦æƒ³ï¼Œå­¦ä¹ æŠ€æœ¯ã€‚
  
ã€€ã€€å…³æ³¨å…¬ä¼—å·ï¼Œå›å¤â€œåŠ ç¾¤â€ï¼Œå’Œ lvgo ä¸€èµ·å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚åšå†³ç»´æŠ¤ç¾¤å†…ç¯å¢ƒï¼Œç»™å¤§å®¶æä¾›ä¸€ä¸ªè‰¯å¥½çš„å­¦ä¹ äº¤æµç¯å¢ƒã€‚

![æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹](https://i.loli.net/2020/10/08/2ZVKPRsQ9TyDmki.png)
