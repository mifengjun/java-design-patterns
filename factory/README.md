# å·¥å‚æ¨¡å¼ ğŸ—



>å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚



å¤§å®¶å¯èƒ½éƒ½çŸ¥é“å·¥å‚æ¨¡å¼ï¼Œå¯çœŸæ­£ç†è§£åº”ç”¨çš„åˆæœ‰å¤šå°‘å‘¢ï¼Ÿæ­¤æ–‡æœ¬ç€èƒ½è®©å¤§å®¶å½»åº•äº†è§£å’Œä½•æ—¶é€‚åˆä½¿ç”¨å·¥å‚æ¨¡å¼çš„åŸåˆ™æ¥ä¹¦å†™ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œç‚¹ä¸ªå…³æ³¨ï¼Œä¸€èµ·å¼€å¯æ–°çš„æ€ç»´æ¥å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚



## æ¦‚å¿µ ğŸ‘€



ã€€ã€€é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“çš„æ˜¯ï¼Œå·¥å‚æ¨¡å¼æ˜¯**<u>åˆ›å»ºå‹</u>**è®¾è®¡æ¨¡å¼åˆ†ç±»ä¸‹çš„ä¸€ç§ï¼Œç”¨æ¥åˆ›å»ºå¯¹è±¡æ—¶é€‰æ‹©ä½¿ç”¨ã€‚è€Œè¿˜æœ‰ä¸€ç§çœ‹ä¼¼åŠŸèƒ½ä¸€æ ·ï¼Œä½†å®é™…çš„å®ç°å´å¤§ç›¸å¾„åº­çš„æ–¹å¼å«åš *ç®€å•å·¥å‚æ¨¡å¼æˆ–ï¼ˆé™æ€å·¥å‚æ¨¡å¼ï¼‰*ã€‚è¦æ³¨æ„è¿™ä¸¤è€…åŒºåˆ«ã€‚å³ä½¿ä»–ä»¬å®Œæˆçš„å·¥ä½œéƒ½æ˜¯ <u>**åˆ›å»ºå¯¹è±¡**</u>

- ç®€å•å·¥å‚æ¨¡å¼ï¼ˆé™æ€å·¥å‚æ¨¡å¼ï¼‰ï¼šé€šè¿‡ä¸€ä¸ªå·¥å‚ç±»å®Œæˆæ‰€æœ‰å¯¹è±¡çš„åˆ›å»ºå·¥ä½œï¼›
- å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šå¦‚å¼•ç”¨è¯´æ˜ **å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“**ï¼›



## ç®€å•å·¥å‚æ¨¡å¼ ğŸ˜‰



ã€€ã€€è®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç®€å•å·¥å‚æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼â€˜äººå¦‚å…¶åâ€™ï¼Œéå¸¸ç®€å•ã€‚



### ç±»å›¾ ğŸ–Œ



![é€šè¿‡ idea UML å·¥å…·æ„å»º](https://i.loli.net/2020/10/13/RbNwGdVjuQAnkY9.png)



### å…·ä½“ä»£ç  ğŸ“„



> å®Œæ•´ä»£ç åŠå•å…ƒæµ‹è¯•ç»“æœ [https://github.com/lvgocc/java-design-patterns/tree/main/factory](https://github.com/lvgocc/java-design-patterns/tree/main/factory)



```java
/**
 * æŠ½è±¡å›¾å½¢ç±»
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 21:33
 * @since 1.0.0
 */
public abstract class AbstractGraphical {
    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }
}
```



```java
/**
 * åœ†å½¢
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 21:55
 * @since 1.0.0
 */
public class Circular extends AbstractGraphical {
}
```



```java
/**
 * çŸ©å½¢
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 22:10
 * @since 1.0.0
 */
public class Rectangle extends AbstractGraphical {
}
```



```java
/**
 * ä¸‰è§’å½¢
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 22:10
 * @since 1.0.0
 */
public class Triangle extends AbstractGraphical {
}
```



```java
/**
 * å›¾å½¢å·¥å‚
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 22:05
 * @since 1.0.0
 */
public class GraphicalFactory {

    public static final int CIRCULAR = 0;
    public static final int RECTANGLE = 1;
    public static final int TRIANGLE = 2;


    public static AbstractGraphical create(int type) {
        switch (type) {
            case CIRCULAR:
                return new Circular();
            case RECTANGLE:
                return new Rectangle();
            case TRIANGLE:
                return new Triangle();
            default:
                throw new IllegalStateException("please check paramï¼Œ range 0 - 2");
        }
    }
}
```



### ä½¿ç”¨æ—¶æœº



ã€€ã€€å½“æˆ‘ä»¬æ‰€è¦åˆ›å»ºçš„<u>å¯¹è±¡ä¸ªæ•°è¾ƒå°‘</u>ï¼Œ<u>åˆ›å»ºè¿‡ç¨‹è¾ƒå¤æ‚</u>ï¼Œ<u>ä½¿ç”¨è¾ƒé¢‘ç¹</u> å¯ä»¥é€šè¿‡ç®€å•å·¥å‚æ¨¡å¼å°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å°è£…èµ·æ¥ï¼Œè¿™æ ·å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§ï¼Œä¸šåŠ¡ä»£ç æ›´ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ï¼ˆå½“ç„¶æ¡ˆä¾‹ä»£ç ä¸­æ²¡æœ‰æ¨¡æ‹Ÿæ„å»ºå¤æ‚å¯¹è±¡çš„æƒ…æ™¯ï¼‰åŒæ—¶ä¸ºäº†ä¾¿äºä½¿ç”¨ï¼Œå°†æ–¹æ³•å®šä¹‰ä¸ºé™æ€ã€‚æ•…ä¹Ÿç§°ä¹‹ä¸ºé™æ€å·¥å‚æ¨¡å¼ã€‚

ã€€ã€€â—è¿™é‡Œåœ¨å¼ºè°ƒä¸€ä¸‹ï¼ŒåŒæ—¶è§£é‡Šä¸€ä¸‹ä½¿ç”¨æ—¶æœº

1. å¯¹è±¡ä¸ªæ•°å°‘ï¼šæŒ‡çš„æ˜¯éœ€è¦é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ä¸ªæ•°ï¼Œé€šå¸¸ä¸ºä¸å˜ä¸ªæ•°ã€‚å› ä¸ºå¦‚æœå¯¹è±¡ä¸ªæ•°è¿­ä»£é¢‘ç¹ï¼Œä¸ªæ•°è¾ƒå¤šï¼Œåœ¨è¿™ç§æ–¹æ³•çš„ç»´æŠ¤ä¸Šä¼šå‡ºç°ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå³æ¯æ–°å¢åŠ ä¸€ä¸ª class ï¼ˆä¸€ç§å›¾å½¢ï¼Œæ¯”å¦‚åœ¨å¢åŠ ä¸€ä¸ªæ­£æ–¹å½¢ï¼‰å°±è¦è°ƒæ•´ä¸€æ¬¡ GraphicalFactory ç±»çš„ä»£ç ã€‚åŒæ ·ï¼Œå³è¿åäº†å¼€é—­åŸåˆ™ã€‚
2. åˆ›å»ºè¿‡ç¨‹è¾ƒå¤æ‚ï¼šé€šè¿‡åå‘æ¨ç†å¯çŸ¥ï¼Œå¦‚æœåˆ›å»ºå¯¹è±¡è¿‡ç¨‹ä¸å¤æ‚ï¼Œæˆ‘é€‰æ‹©ç›´æ¥ newã€‚
3. ä½¿ç”¨è¾ƒé¢‘ç¹ï¼šåŒä¸Šå¯å¾—ï¼Œå¦‚æœä½¿ç”¨ä¸é¢‘ç¹ï¼Œæˆ‘é€‰æ‹©ç›´æ¥ newã€‚ä¸ä¼šè€ƒè™‘ç›¸å¯¹è¾ƒå¤æ‚çš„è®¾è®¡æ¨¡å¼ã€‚



## å·¥å‚æ–¹æ³•æ¨¡å¼ ğŸ˜Š



ã€€ã€€å½“æˆ‘ä»¬å°†ä¸Šé¢çš„ç®€å•å·¥å‚æ¨¡å¼ä¸­çš„åˆ›å»ºå›¾å½¢çš„æ–¹æ³•æŠ½è±¡å‡ºæ¥ï¼Œå°†åˆ›å»ºçš„è¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ»¡è¶³äº†å¼€é—­åŸåˆ™çš„æ—¶å€™ï¼Œé‚£è¿™å°±æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼äº†ã€‚

ã€€ã€€**å·¥å‚æ–¹æ³•æ¨¡å¼æ€ä¹ˆç†è§£å‘¢ï¼Œé¡¾åæ€ä¹‰ï¼Œé€šè¿‡å·¥å‚çš„æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ç”±ä¸€ä¸ªå·¥å‚æ¥åˆ›å»ºï¼Œæ€ä¹ˆåˆ›å»ºè¿™ä¸ªå·¥å‚è¯´äº†ç®—**ã€‚ç†è§£å·¥å‚æ–¹æ³•æ¨¡å¼å¯¹åé¢çš„æŠ½è±¡å·¥å‚ç†è§£å¯ä»¥è¯´æ˜¯â€œå¾ˆç²¾å½©â€



### ç±»å›¾ ğŸ–Œ



**å·¥å‚æ–¹æ³•æ¨¡å¼**çš„ç±»å›¾

![](https://i.loli.net/2020/10/13/jdoIiGvwtP2JCFY.png)



**ç®€å•å·¥å‚æ¨¡å¼**çš„ç±»å›¾

![é€šè¿‡ idea UML å·¥å…·æ„å»º](https://i.loli.net/2020/10/13/RbNwGdVjuQAnkY9.png)



é€šè¿‡ç±»å›¾çš„æ¯”è¾ƒæˆ‘ä»¬å‘ç°ã€‚ç®€å•å·¥å‚çš„å·¥å‚ç±»æŠ½è±¡æˆäº†ä¸€ä¸ªæŠ½è±¡å·¥å‚ï¼Œè€Œå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­å¤šäº†3ä¸ªå·¥å‚ã€‚è¿™å°±æ˜¯å·¥å‚æ¨¡å¼çš„å®šä¹‰è¯ é‡Š 

> **å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“**



### å…·ä½“ä»£ç  ğŸ“„



> é¿å…ç¯‡å¹…è¿‡é•¿ï¼Œå®Œæ•´ä»£ç åŠå•å…ƒæµ‹è¯•ç»“æœç‚¹å‡»æŸ¥çœ‹ [https://github.com/lvgocc/java-design-patterns/tree/main/factory](https://github.com/lvgocc/java-design-patterns/tree/main/factory)



```java
/**
 * å›¾å½¢ç±»æ¥å£
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 21:33
 * @since 1.0.0
 */
public interface Graphical {

    /**
     * å›¾å½¢æè¿°
     */
    void description();
}
```



```java
/**
 * åœ†å½¢
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 21:55
 * @since 1.0.0
 */
public class Circular implements Graphical {

    @Override
    public void description() {
        LOGGER.info("circular");
    }
}
```



```java
/**
 * æŠ½è±¡å·¥å‚
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 23:16
 * @since 1.0.0
 */
public abstract class AbstractGraphicalFactory {

    /**
     * åˆ›å»ºä¸€ä¸ªå›¾å½¢
     *
     * @return å…·ä½“å›¾å½¢
     */
    public abstract Graphical creat();
}
```



```java
/**
 * åœ†å½¢å·¥å‚
 *
 * @author lvgorice@gmail.com
 * @date 2020/10/8 23:27
 * @since 1.0.0
 */
public class CircularFactory extends AbstractGraphicalFactory {
    /**
     * å°†åˆ›å»ºå¤æ‚çš„åœ†å½¢è¿‡ç¨‹å°è£…åˆ°å·¥å‚é‡Œã€‚
     * 1. é€‰å®šåœ†å½¢ä½ç½®ï¼›
     * 2. æŒ‡å®šåœ†å½¢åŠå¾„ï¼›
     * 3. è®¾ç½®ç»˜åˆ¶å›¾å½¢æ‰€ç”¨çš„ç”»ç¬”ï¼›
     * 4. é€‰æ‹©å›¾å½¢çš„é¢œè‰²ï¼›
     * 5. ã€‚ã€‚ã€‚ã€‚ã€‚
     *
     * @return ä¸€ä¸ªå¤æ‚çš„åœ†å½¢
     */
    @Override
    public Graphical creat() {
        return new Circular();
    }
}
```



### ä½¿ç”¨æ—¶æœº

ã€€ã€€å…¶å®è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸ä¸Šé¢çš„ç®€å•å·¥å‚æ¨¡å¼æ¯”è¾ƒå°±å¯ä»¥çœ‹å‡ºï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼é€‚åˆåœ¨<u>**å¯¹è±¡å¯èƒ½å­˜åœ¨æ–°å¢çš„æƒ…å†µï¼Œè€Œä¸”æ•°é‡ä¸å®šã€‚åˆ›å»ºå¯¹è±¡è¿‡ç¨‹å¤æ‚ï¼Œä½¿ç”¨é¢‘ç¹**</u>çš„åœºæ™¯ã€‚



### JDKä¸­çš„å·¥å‚è®¾è®¡æ¨¡å¼ç¤ºä¾‹

>æ¡ˆä¾‹æ¥æºï¼šhttps://www.journaldev.com/1392/factory-design-pattern-in-java

1. java.util.Calendarï¼ŒResourceBundleå’ŒNumberFormat`getInstance()`æ–¹æ³•ä½¿ç”¨Factoryæ¨¡å¼ã€‚
2. `valueOf()` åŒ…è£…å™¨ç±»ï¼ˆä¾‹å¦‚Booleanï¼ŒIntegerç­‰ï¼‰ä¸­çš„æ–¹æ³•ã€‚



## æ€»ç»“ ğŸ±â€ğŸ‘¤

ã€€ã€€å½“æˆ‘ä»¬æ‰€è¦åˆ›å»ºçš„<u>å¯¹è±¡ä¸ªæ•°è¾ƒå°‘ä¸”ä¸ä¼šåœ¨æ–°å¢</u>ï¼Œ<u>åˆ›å»ºè¿‡ç¨‹è¾ƒå¤æ‚</u>ï¼Œ<u>ä½¿ç”¨è¾ƒé¢‘ç¹</u> å¯ä»¥é€šè¿‡ç®€å•å·¥å‚æ¨¡å¼å°†åˆ›å»ºå¯¹è±¡ã€‚å¦‚ä¸æ»¡è¶³ä»¥ä¸Š 3 ç§æƒ…å†µï¼Œå»ºè®®ç›´æ¥ newã€‚

ã€€ã€€**å½“æˆ‘ä»¬æ‰€éœ€è¦åˆ›å»ºçš„å¯¹è±¡ä½¿ç”¨é¢‘ç¹ï¼Œåˆ›å»ºè¿‡ç¨‹è¾ƒå¤æ‚ï¼Œå¯èƒ½å¢åŠ å¯¹è±¡ä¸ªæ•°æ—¶ï¼Œè¿™æ— ç–‘é€‰æ‹©ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚**

å½“æˆ‘ä»¬è¯•å›¾ç”¨ä¸Šé¢çš„3ä¸ªåŸåˆ™å»é€‰æ‹©ä½¿ç”¨å·¥å‚æ¨¡å¼çš„æ—¶å€™åº”è¯¥è¦æ€è€ƒå‡ ä¸ªé—®é¢˜ã€‚å¦‚

1. å¯¹è±¡ä¸ªæ•°å¾ˆå°‘ï¼Œåˆ›å»ºä¸å¤æ‚ã€‚ï¼ˆnew å…³é”®å­—ï¼‰

2. åˆ›å»ºè¿‡ç¨‹è™½ç„¶å¤æ‚ï¼Œä½†æ˜¯å¾ˆå°‘ä½¿ç”¨ã€‚ï¼ˆå»ºé€ è€…æ¨¡å¼ï¼‰

3. ä½¿ç”¨è™½ç„¶å¾ˆé¢‘ç¹ï¼Œä½†åªæœ‰1ä¸ªå¯¹è±¡å°±æ»¡è¶³äº†éœ€è¦ã€‚ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰

   

ç­‰ç­‰è¯¸å¦‚ä»¥ä¸Šå¯¹è±¡ä¸ä½¿ç”¨ä½¿æœºçš„æƒè¡¡éƒ½éœ€è¦æˆ‘ä»¬è‡ªå·±å»ä»”ç»†çš„è®¾è®¡å’Œè¡¡é‡ï¼Œè®¾è®¡æ¨¡å¼åªæä¾›äº†ä¸€ç§æ€æƒ³ï¼Œä½ å¯ä»¥å°†ä¸€äº›æ€æƒ³æ•´åˆä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–¹æ³•æ¥è§£å†³ä½ çš„æ‰€æœ‰é—®é¢˜ã€‚

ä»¥ä¸Šçš„å‡ ä¸ªé—®é¢˜ï¼Œåˆ†åˆ«å¯ä»¥è€ƒè™‘å•ä¾‹æ¨¡å¼å’Œåé¢è¦è®²åˆ°çš„å»ºé€ è€…æ¨¡å¼æ¥å®ç°ï¼Œå¹¶ä¸ä¸€å®šéè¦ç”¨å·¥å‚æ¨¡å¼ï¼Œæ´»å­¦æ´»ç”¨æ‰æ˜¯æˆ‘ä»¬çš„å®—æ—¨ã€‚



> *åƒä¸‡ä¸è¦æéªšæ“ä½œï¼Œä¸ºäº†ç”¨è®¾è®¡æ¨¡å¼è€Œç”¨ï¼Œå¦åˆ™å²‚ä¸æ˜¯ new ä¸ª String å¯¹è±¡ä¹Ÿè¦å·¥å‚æ¥åˆ›å»ºï¼ŸğŸ˜¢*




# å†™åœ¨æœ€å

ã€€ã€€Java è®¾è®¡æ¨¡å¼ä¸“é¢˜ï¼Œå…±23 ç§è®¾è®¡æ¨¡å¼ã€‚å†…å®¹æ¥è‡ªä¸ªäººå­¦ä¹ ç†è§£æ¶ˆåŒ–çš„ç»“æœï¼Œè°ˆä¸ä¸Šæ•™ç¨‹ï¼Œåªæœ›è®°å½•äºæ­¤åŒä½ åˆ†äº«ã€‚å¸Œæœ›èƒ½å¤Ÿå’Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€æˆé•¿ã€‚ä¸ºäº†æ¢¦æƒ³ï¼Œå­¦ä¹ æŠ€æœ¯ã€‚å¦‚æœä½ è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¸Œæœ›éšä¾¿ç‚¹èµã€å…³æ³¨ã€åˆ†äº«ã€ç»™ä¸ª star æ”¯æŒä¸€ä¸‹ã€‚æ„Ÿæ¿€æ¶•é›¶ğŸˆã€‚

ã€€ã€€[â­https://github.com/lvgocc/java-design-patterns](https://github.com/lvgocc/java-design-patterns)

ã€€ã€€æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„ä¸ªäººå…¬ä¼—å·ï¼š**æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹** åˆšåˆšå¼€å§‹å¼„ï¼Œå¸Œæœ›ä¸ä½ ä¸€èµ·æˆé•¿ï¼

![æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹](https://i.loli.net/2020/10/08/2ZVKPRsQ9TyDmki.png)
